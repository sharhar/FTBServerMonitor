<!DOCTYPE html>
<html>
<head>
	<title>FTB Server Monitor</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

</head>
<body>
<main class="container">

  <div class="starter-template text-center py-5 px-3">
    ___
  </div>

</main>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>

	<script type="text/javascript">
		var server_status = {
			status: -1,
			players: []
		};

		function gotStatus(status) {
			if(server_status.status == -1) {
				server_status.status = status.status;
				server_status.players = status.players;
			}

			if(server_status.status != status.status || server_status.players.length != status.players.length) {
				location.reload();
			}
		}

		setInterval(function() {
			fetch('/check')
			.then(response => response.json())
			.then(data => gotStatus(data));
		}, 1000);
    </script>
</body>
</html>
